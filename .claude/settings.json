{
  "env": {
    "CLAUDE_CODE_EXPERIMENTAL_AGENT_TEAMS": "1"
  },
  "model": "opus",
  "hooks": {
    "SessionStart": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "[[ \"$(defaults read com.henrikruscon.Klack enableListener 2>/dev/null)\" == \"1\" ]] && afplay ~/.claude/buyback-dota2.mp3 &",
            "async": true
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "input=$(cat); dir=$(echo \"$input\" | jq -r '.cwd'); name=$(basename \"$dir\"); ~/.claude/sounds/set-title.sh \"✓ $name — Ready\"",
            "async": true
          },
          {
            "type": "command",
            "command": "[[ \"$(defaults read com.henrikruscon.Klack enableListener 2>/dev/null)\" == \"1\" ]] && afplay ~/.claude/sounds/coins.mp3 &",
            "async": true
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "input=$(cat); dir=$(echo \"$input\" | jq -r '.cwd'); name=$(basename \"$dir\"); msg=$(echo \"$input\" | jq -r '.title // \"Needs Input\"'); ~/.claude/sounds/set-title.sh \"⏳ $name — $msg\"",
            "async": true
          },
          {
            "type": "command",
            "command": "[[ \"$(defaults read com.henrikruscon.Klack enableListener 2>/dev/null)\" == \"1\" ]] && afplay ~/.claude/sounds/ping-warning.mp3 &",
            "async": true
          }
        ]
      }
    ],
    "SubagentStart": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "[[ \"$(defaults read com.henrikruscon.Klack enableListener 2>/dev/null)\" == \"1\" ]] && afplay ~/.claude/sounds/battle-begin.mp3 &",
            "async": true
          }
        ]
      }
    ],
    "PostToolUseFailure": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "[[ \"$(defaults read com.henrikruscon.Klack enableListener 2>/dev/null)\" == \"1\" ]] && afplay ~/.claude/sounds/deny.mp3 &",
            "async": true
          }
        ]
      }
    ],
    "TaskCompleted": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "[[ \"$(defaults read com.henrikruscon.Klack enableListener 2>/dev/null)\" == \"1\" ]] && afplay ~/.claude/sounds/objective-complete.mp3 &",
            "async": true
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/sounds/first-blood.sh",
            "async": true
          }
        ]
      }
    ],
    "PermissionRequest": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "[[ \"$(defaults read com.henrikruscon.Klack enableListener 2>/dev/null)\" == \"1\" ]] && afplay ~/.claude/sounds/buy.mp3 &",
            "async": true
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "[[ \"$(defaults read com.henrikruscon.Klack enableListener 2>/dev/null)\" == \"1\" ]] && afplay ~/.claude/sounds/triple-kill.mp3 &",
            "async": true
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "[[ \"$(defaults read com.henrikruscon.Klack enableListener 2>/dev/null)\" == \"1\" ]] && afplay ~/.claude/sounds/stacked.mp3 &",
            "async": true
          }
        ]
      }
    ],
    "TeammateIdle": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "[[ \"$(defaults read com.henrikruscon.Klack enableListener 2>/dev/null)\" == \"1\" ]] && afplay ~/.claude/sounds/ping.mp3 &",
            "async": true
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/sounds/compact-escalation.sh",
            "async": true
          }
        ]
      }
    ]
  },
  "statusLine": {
    "type": "command",
    "command": "input=$(cat); cwd=$(echo \"$input\" | jq -r '.workspace.current_dir'); model=$(echo \"$input\" | jq -r '.model.display_name'); if [[ $cwd == \"$HOME/github/\"*/* ]]; then relative=\"${cwd#$HOME/github/}\"; org=$(echo \"$relative\" | cut -d'/' -f1); full_repo=$(echo \"$relative\" | cut -d'/' -f2); rest=$(echo \"$relative\" | cut -d'/' -f3-); if [[ \"$full_repo\" == *\"--\"* ]]; then repo=\"${full_repo%%--*}\"; branch=\"${full_repo#*--}\"; printf '\\033[32mgithub(\\033[1;4;36m%s/%s\\033[0m\\033[32m) \\033[3m(%s)\\033[0m' \"$org\" \"$repo\" \"$branch\"; else repo=\"$full_repo\"; printf '\\033[32mgithub(\\033[1;4;36m%s/%s\\033[0m\\033[32m)\\033[0m' \"$org\" \"$repo\"; fi; [[ -n \"$rest\" ]] && printf ' \\033[36m%s\\033[0m' \"$rest\"; else printf '\\033[1;36m%s\\033[0m' \"$(basename \"$cwd\")\"; fi; if git -C \"$cwd\" rev-parse --git-dir > /dev/null 2>&1; then branch=$(git -C \"$cwd\" branch --show-current 2>/dev/null); [[ -n \"$branch\" ]] && printf ' \\033[34mgit:%s\\033[0m' \"$branch\"; fi; printf ' | %s' \"$model\""
  },
  "skipDangerousModePermissionPrompt": true,
  "effortLevel": "medium"
}
